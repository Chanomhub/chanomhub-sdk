{"openapi":"3.0.0","paths":{"/health":{"get":{"operationId":"HealthController_check","parameters":[],"responses":{"200":{"description":""}},"tags":["Health"]}},"/api/graphql":{"get":{"operationId":"GraphQLController_handleV1_get","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"post":{"operationId":"GraphQLController_handleV1_post","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"put":{"operationId":"GraphQLController_handleV1_put","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"delete":{"operationId":"GraphQLController_handleV1_delete","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"patch":{"operationId":"GraphQLController_handleV1_patch","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"options":{"operationId":"GraphQLController_handleV1_options","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"head":{"operationId":"GraphQLController_handleV1_head","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"search":{"operationId":"GraphQLController_handleV1_search","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]}},"/api/v1/graphql":{"get":{"operationId":"GraphQLController_handleV1_get","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"post":{"operationId":"GraphQLController_handleV1_post","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"put":{"operationId":"GraphQLController_handleV1_put","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"delete":{"operationId":"GraphQLController_handleV1_delete","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"patch":{"operationId":"GraphQLController_handleV1_patch","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"options":{"operationId":"GraphQLController_handleV1_options","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"head":{"operationId":"GraphQLController_handleV1_head","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"search":{"operationId":"GraphQLController_handleV1_search","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]}},"/api/v2/graphql":{"get":{"operationId":"GraphQLController_handleV2_get","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"post":{"operationId":"GraphQLController_handleV2_post","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"put":{"operationId":"GraphQLController_handleV2_put","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"delete":{"operationId":"GraphQLController_handleV2_delete","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"patch":{"operationId":"GraphQLController_handleV2_patch","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"options":{"operationId":"GraphQLController_handleV2_options","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"head":{"operationId":"GraphQLController_handleV2_head","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]},"search":{"operationId":"GraphQLController_handleV2_search","parameters":[],"responses":{"200":{"description":""}},"tags":["GraphQL"]}},"/api/notifications":{"get":{"description":"Fetches notifications for the authenticated user with optional filters for type, read status, and pagination.","operationId":"GetNotifications","parameters":[{"name":"type","required":false,"in":"query","description":"Filter by notification type","schema":{"enum":["NEW_ARTICLE","NEW_COMMENT","REPLY_COMMENT","PUBLISH_REQUEST_UPDATE","MOD_UPDATE","TRANSLATION_UPDATE","FAVORITE_ARTICLE","MODERATION_UPDATE","TRANSLATION_QUEUE_NEW","TRANSLATION_QUEUE_UPDATE","TRANSLATION_QUEUE_COMPLETED","TRANSLATION_QUEUE_FAILED"],"type":"string"}},{"name":"isRead","required":false,"in":"query","description":"Filter by read status (true/false)","schema":{"type":"boolean"}},{"name":"skip","required":false,"in":"query","description":"Number of notifications to skip (for pagination)","schema":{"default":0,"type":"number"}},{"name":"take","required":false,"in":"query","description":"Number of notifications to take (for pagination)","schema":{"default":10,"type":"number"}}],"responses":{"200":{"description":"List of notifications with total and unread count","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MultipleNotificationsResponse"}}}},"401":{"description":"Unauthorized access"}},"security":[{"bearer":[]}],"summary":"Retrieve notifications for the current user","tags":["Notifications"]},"delete":{"description":"Deletes all notifications for the authenticated user.","operationId":"DeleteAllNotifications","parameters":[],"responses":{"204":{"description":"All notifications deleted successfully"},"401":{"description":"Unauthorized access"}},"security":[{"bearer":[]}],"summary":"Delete all notifications","tags":["Notifications"]}},"/api/notifications/{id}/read":{"patch":{"description":"Marks a specific notification as read by its ID. Authentication is required.","operationId":"MarkNotificationAsRead","parameters":[{"name":"id","required":true,"in":"path","description":"Unique ID of the notification","schema":{"type":"number"}}],"responses":{"200":{"description":"Notification marked as read","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SingleNotificationResponse"}}}},"401":{"description":"Unauthorized access"},"403":{"description":"Forbidden"},"404":{"description":"Notification not found"}},"security":[{"bearer":[]}],"summary":"Mark a notification as read","tags":["Notifications"]}},"/api/notifications/read-all":{"patch":{"description":"Marks all notifications for the authenticated user as read.","operationId":"MarkAllNotificationsAsRead","parameters":[],"responses":{"200":{"description":"All notifications marked as read"},"401":{"description":"Unauthorized access"}},"security":[{"bearer":[]}],"summary":"Mark all notifications as read","tags":["Notifications"]}},"/api/notifications/{id}":{"delete":{"description":"Deletes a specific notification by its ID. Authentication is required.","operationId":"DeleteNotification","parameters":[{"name":"id","required":true,"in":"path","description":"Unique ID of the notification","schema":{"type":"number"}}],"responses":{"204":{"description":"Notification deleted successfully"},"401":{"description":"Unauthorized access"},"403":{"description":"Forbidden"},"404":{"description":"Notification not found"}},"security":[{"bearer":[]}],"summary":"Delete a notification","tags":["Notifications"]}},"/api/notifications/queue-status":{"get":{"description":"Returns the current status of the notification queue (for debugging, admin only).","operationId":"CheckQueueStatus","parameters":[],"responses":{"200":{"description":"Queue status"},"401":{"description":"Unauthorized access"},"403":{"description":"Forbidden"}},"security":[{"bearer":[]}],"summary":"Check notification queue status","tags":["Notifications"]}},"/api/notifications/queue":{"delete":{"description":"Clears all jobs in the notification queue (for debugging, admin only, use with caution).","operationId":"ClearQueue","parameters":[],"responses":{"204":{"description":"Queue cleared successfully"},"401":{"description":"Unauthorized access"},"403":{"description":"Forbidden"}},"security":[{"bearer":[]}],"summary":"Clear notification queue","tags":["Notifications"]}},"/api/auth/refresh":{"post":{"description":"Exchange a valid refresh token for a new access token and refresh token pair","operationId":"RefreshToken","parameters":[{"name":"user-agent","required":true,"in":"header","schema":{"type":"string"}}],"requestBody":{"required":true,"description":"Refresh token to exchange","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequestDTO"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenPairDTO"}}}},"401":{"description":"Invalid or expired refresh token"}},"summary":"Refresh access token","tags":["Authentication"]}},"/api/auth/logout":{"post":{"description":"Revoke the provided refresh token to logout from current device","operationId":"Logout","parameters":[],"requestBody":{"required":true,"description":"Refresh token to revoke","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequestDTO"}}}},"responses":{"204":{"description":"Token revoked successfully"}},"summary":"Logout (revoke refresh token)","tags":["Authentication"]}},"/api/auth/logout-all":{"post":{"description":"Revoke all refresh tokens for the current user","operationId":"LogoutAll","parameters":[],"responses":{"204":{"description":"All tokens revoked successfully"}},"security":[{"bearer":[]}],"summary":"Logout from all devices","tags":["Authentication"]}},"/api/moderation/requests":{"get":{"description":"Fetches all moderation requests. Optional status filter can be applied. Authentication is required.","operationId":"GetModerationRequests","parameters":[{"name":"status","required":false,"in":"query","description":"Filter by request status","schema":{"enum":["PENDING","APPROVED","REJECTED","NEEDS_REVISION"],"type":"string"}},{"name":"entityType","required":false,"in":"query","description":"Filter by entity type","schema":{"enum":["ARTICLE","DOWNLOAD_LINK","COMMENT","OFFICIAL_DOWNLOAD_SOURCE","TRANSLATION_FILE","MOD"],"type":"string"}}],"responses":{"200":{"description":"List of moderation requests","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number"},"entityType":{"type":"string"},"entityId":{"type":"number"},"status":{"type":"string","enum":["PENDING","APPROVED","REJECTED","NEEDS_REVISION"]},"requestNote":{"type":"string","nullable":true},"reviewNote":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"requesterId":{"type":"number"},"reviewerId":{"type":"number","nullable":true},"requester":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"image":{"type":"string","nullable":true}}},"reviewer":{"type":"object","nullable":true,"properties":{"id":{"type":"number"},"name":{"type":"string"},"image":{"type":"string","nullable":true}}},"entityDetails":{"type":"object","nullable":true,"additionalProperties":true}}}}}}}},"security":[{"bearer":[]}],"summary":"Retrieve moderation requests","tags":["Moderation"]},"post":{"description":"Creates a new moderation request for content review. Authentication is required.","operationId":"CreateModerationRequest","parameters":[],"requestBody":{"required":true,"description":"Moderation request creation payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateModerationRequestDto"},"examples":{"validRequest":{"summary":"Valid moderation request example","value":{"entityType":"ARTICLE","entityId":1,"requestNote":"Please review this article for publication"}}}}}},"responses":{"201":{"description":"Moderation request created","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"},"entityType":{"type":"string"},"entityId":{"type":"number"},"status":{"type":"string","enum":["PENDING"]},"requestNote":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"requesterId":{"type":"number"},"reviewerId":{"type":"number","nullable":true},"requester":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"image":{"type":"string","nullable":true}}},"entityDetails":{"type":"object","nullable":true,"additionalProperties":true}}}}}},"400":{"description":"Invalid request data"}},"security":[{"bearer":[]}],"summary":"Create a new moderation request","tags":["Moderation"]}},"/api/moderation/requests/{id}":{"get":{"description":"Fetches a moderation request by its ID. Authentication is required.","operationId":"GetModerationRequestById","parameters":[{"name":"id","required":true,"in":"path","description":"Moderation request ID","schema":{"type":"number"}}],"responses":{"200":{"description":"Moderation request details","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"},"entityType":{"type":"string"},"entityId":{"type":"number"},"status":{"type":"string","enum":["PENDING","APPROVED","REJECTED","NEEDS_REVISION"]},"requestNote":{"type":"string","nullable":true},"reviewNote":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"requesterId":{"type":"number"},"reviewerId":{"type":"number","nullable":true},"requester":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"image":{"type":"string","nullable":true}}},"reviewer":{"type":"object","nullable":true,"properties":{"id":{"type":"number"},"name":{"type":"string"},"image":{"type":"string","nullable":true}}},"entityDetails":{"type":"object","nullable":true,"additionalProperties":true}}}}}},"404":{"description":"Moderation request not found"}},"security":[{"bearer":[]}],"summary":"Retrieve a single moderation request","tags":["Moderation"]},"put":{"description":"Updates a moderation request with approval decision. Only moderators can perform this action.","operationId":"UpdateModerationRequest","parameters":[{"name":"id","required":true,"in":"path","description":"Moderation request ID","schema":{"type":"number"}}],"requestBody":{"required":true,"description":"Moderation request update payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateModerationRequestDto"},"examples":{"approveRequest":{"summary":"Approve moderation request","value":{"status":"APPROVED","reviewNote":"Content meets our community guidelines"}},"rejectRequest":{"summary":"Reject moderation request","value":{"status":"REJECTED","reviewNote":"Content violates our community guidelines"}},"needsRevision":{"summary":"Request revision","value":{"status":"NEEDS_REVISION","reviewNote":"Please make the following changes before resubmitting..."}}}}}},"responses":{"200":{"description":"Moderation request updated","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"number"},"entityType":{"type":"string"},"entityId":{"type":"number"},"status":{"type":"string","enum":["PENDING","APPROVED","REJECTED","NEEDS_REVISION"]},"requestNote":{"type":"string","nullable":true},"reviewNote":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"requesterId":{"type":"number"},"reviewerId":{"type":"number"},"requester":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"image":{"type":"string","nullable":true}}},"reviewer":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"image":{"type":"string","nullable":true}}},"entityDetails":{"type":"object","nullable":true,"additionalProperties":true}}}}}},"400":{"description":"Invalid update data or status transition"},"403":{"description":"User does not have moderation privileges"},"404":{"description":"Moderation request not found"}},"security":[{"bearer":[]}],"summary":"Update a moderation request status","tags":["Moderation"]},"delete":{"description":"Deletes a moderation request by its ID. Only administrators can perform this action.","operationId":"DeleteModerationRequest","parameters":[{"name":"id","required":true,"in":"path","description":"Moderation request ID","schema":{"type":"number"}}],"responses":{"204":{"description":"Moderation request deleted successfully"},"404":{"description":"Moderation request not found"}},"security":[{"bearer":[]}],"summary":"Delete a moderation request","tags":["Moderation"]}},"/api/articles":{"get":{"description":"Fetches the most recent articles globally. Use query parameters to filter results. Authentication is optional.","operationId":"GetArticles","parameters":[{"name":"limit","required":false,"in":"query","description":"Limit number of articles returned (default is 20)","schema":{"$ref":"#/components/schemas/Object"}},{"name":"offset","required":false,"in":"query","description":"Offset/skip number of articles (default is 0)","schema":{"$ref":"#/components/schemas/Object"}},{"name":"q","required":false,"in":"query","description":"Search query string for title, description, or body","schema":{"type":"string"}},{"name":"author","required":false,"in":"query","description":"Filter by author (username)","schema":{"type":"string"}},{"name":"creator","required":false,"in":"query","description":"Filter by creator or studio name","schema":{"type":"string"}},{"name":"favorited","required":false,"in":"query","description":"Filter by favorites of a user (username)","schema":{"type":"string"}},{"name":"tag","required":false,"in":"query","description":"Filter by tag","schema":{"type":"string"}},{"name":"category","required":false,"in":"query","description":"Filter by category","schema":{"type":"string"}},{"name":"platform","required":false,"in":"query","description":"Filter by platform","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by article status","schema":{"type":"string","enum":["DRAFT","PENDING_REVIEW","PUBLISHED","ARCHIVED","NOT_APPROVED","NEEDS_REVISION"]}},{"name":"engine","required":false,"in":"query","description":"Filter by engine type","schema":{"type":"string"}},{"name":"ver","required":false,"in":"query","description":"Filter by game version (ver)","schema":{"type":"string"}},{"name":"version","required":false,"in":"query","description":"Filter by article version (admin only)","schema":{"type":"number"}},{"name":"hasMainImage","required":false,"in":"query","description":"Filter by presence of a main image","schema":{"type":"boolean"}},{"name":"hasImages","required":false,"in":"query","description":"Filter by presence of additional images","schema":{"type":"boolean"}},{"name":"sequentialCode","required":false,"in":"query","description":"Filter by sequential code (e.g., HJ003)","schema":{"type":"string"}}],"responses":{"200":{"description":"List of articles with pagination","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MultipleArticlesResponse"}}}}},"summary":"Retrieve recent articles globally","tags":["Articles"]},"post":{"description":"Creates a new article. Authentication is required. Ensure `mainImage`, `backgroundImage`, and `coverImage` are valid URL strings or null.","operationId":"CreateArticle","parameters":[],"requestBody":{"required":true,"description":"Article creation payload. `mainImage`, `backgroundImage`, and `coverImage` should be string URLs (e.g., \"https://example.com/image.jpg\") or null. `ver` specifies the game version. Use `creator` to detail the developer or studio behind the game.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewArticleDTO"},"examples":{"validArticle":{"summary":"Valid article example","value":{"title":"string","slug":"string","description":"string","body":"string","ver":"1.0.0","status":"DRAFT","engine":"RENPY","mainImage":"https://example.com/main.jpg","backgroundImage":"https://example.com/main.jpg","coverImage":"https://example.com/main.jpg","images":["https://example.com/image1.jpg"],"tags":["string"],"categories":["string"],"platforms":["string"],"creator":"Studio Name"}}}}}},"responses":{"200":{"description":"Created article","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SingleArticleResponse"}}}},"400":{"description":"Invalid input data, such as malformed JSON or incorrect image field formats"}},"security":[{"bearer":[]}],"summary":"Create a new article","tags":["Articles"]}},"/api/articles/feed":{"get":{"description":"Fetches recent articles from users you follow. Use query parameters for pagination. Authentication is required.","operationId":"GetArticlesFeed","parameters":[{"name":"limit","required":false,"in":"query","description":"Limit number of articles returned (default is 20)","schema":{"$ref":"#/components/schemas/Object"}},{"name":"offset","required":false,"in":"query","description":"Offset/skip number of articles (default is 0)","schema":{"$ref":"#/components/schemas/Object"}}],"responses":{"200":{"description":"List of articles from followed users","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MultipleArticlesResponse"}}}}},"security":[{"bearer":[]}],"summary":"Retrieve articles from followed users","tags":["Articles"]}},"/api/articles/me":{"get":{"description":"Fetches articles created by the authenticated user. Authentication is required.","operationId":"GetMyArticles","parameters":[{"name":"limit","required":false,"in":"query","description":"Limit number of articles returned (default is 20)","schema":{"$ref":"#/components/schemas/Object"}},{"name":"offset","required":false,"in":"query","description":"Offset/skip number of articles (default is 0)","schema":{"$ref":"#/components/schemas/Object"}},{"name":"q","required":false,"in":"query","description":"Search query string for title, description, or body","schema":{"type":"string"}},{"name":"author","required":false,"in":"query","description":"Filter by author (username)","schema":{"type":"string"}},{"name":"creator","required":false,"in":"query","description":"Filter by creator or studio name","schema":{"type":"string"}},{"name":"favorited","required":false,"in":"query","description":"Filter by favorites of a user (username)","schema":{"type":"string"}},{"name":"tag","required":false,"in":"query","description":"Filter by tag","schema":{"type":"string"}},{"name":"category","required":false,"in":"query","description":"Filter by category","schema":{"type":"string"}},{"name":"platform","required":false,"in":"query","description":"Filter by platform","schema":{"type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by article status","schema":{"type":"string","enum":["DRAFT","PENDING_REVIEW","PUBLISHED","ARCHIVED","NOT_APPROVED","NEEDS_REVISION"]}},{"name":"engine","required":false,"in":"query","description":"Filter by engine type","schema":{"type":"string"}},{"name":"ver","required":false,"in":"query","description":"Filter by game version (ver)","schema":{"type":"string"}},{"name":"version","required":false,"in":"query","description":"Filter by article version (admin only)","schema":{"type":"number"}},{"name":"hasMainImage","required":false,"in":"query","description":"Filter by presence of a main image","schema":{"type":"boolean"}},{"name":"hasImages","required":false,"in":"query","description":"Filter by presence of additional images","schema":{"type":"boolean"}},{"name":"sequentialCode","required":false,"in":"query","description":"Filter by sequential code (e.g., HJ003)","schema":{"type":"string"}}],"responses":{"200":{"description":"List of user-created articles","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MultipleArticlesResponse"}}}}},"security":[{"bearer":[]}],"summary":"Retrieve articles by the current user","tags":["Articles"]}},"/api/articles/{slug}/publish-request":{"post":{"description":"Submit an article for review to be published. Authentication is required.","operationId":"RequestPublishArticle","parameters":[{"name":"slug","required":true,"in":"path","description":"Unique slug of the article","schema":{"type":"string"}}],"requestBody":{"required":true,"description":"Publish request details with optional note","content":{"application/json":{"schema":{"type":"object","properties":{"requestNote":{"type":"string","nullable":true,"description":"Optional note for reviewers"}}}}}},"responses":{"200":{"description":"Publish request created","content":{"application/json":{"schema":{"type":"object","properties":{"article":{"$ref":"#/components/schemas/ArticleDTO"},"publishRequest":{"type":"object","properties":{"id":{"type":"number"},"status":{"type":"string","enum":["PENDING","APPROVED","REJECTED","NEEDS_REVISION"]},"requestNote":{"type":"string","nullable":true},"createdAt":{"type":"string","format":"date-time"}}}}}}}},"400":{"description":"Invalid request or article not eligible for publishing"},"404":{"description":"Article not found"}},"security":[{"bearer":[]}],"summary":"Request to publish an article","tags":["Articles"]}},"/api/articles/{slug}":{"get":{"description":"Fetches an article by its slug. Authentication is optional.","operationId":"GetArticle","parameters":[{"name":"slug","required":true,"in":"path","description":"Unique slug of the article","schema":{"type":"string"}},{"name":"language","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Requested article","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SingleArticleResponse"}}}},"404":{"description":"Article not found"}},"summary":"Retrieve a single article","tags":["Articles"]},"put":{"description":"Updates an article by its slug. Authentication is required.","operationId":"UpdateArticle","parameters":[{"name":"slug","required":true,"in":"path","description":"Unique slug of the article","schema":{"type":"string"}}],"requestBody":{"required":true,"description":"Article update payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateArticleRequest"}}}},"responses":{"200":{"description":"Updated article","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SingleArticleResponse"}}}},"404":{"description":"Article not found"}},"security":[{"bearer":[]}],"summary":"Update an existing article","tags":["Articles"]},"delete":{"description":"Deletes an article by its slug. Authentication is required.","operationId":"DeleteArticle","parameters":[{"name":"slug","required":true,"in":"path","description":"Unique slug of the article","schema":{"type":"string"}}],"responses":{"204":{"description":"Article deleted successfully"},"404":{"description":"Article not found"}},"security":[{"bearer":[]}],"summary":"Delete an article","tags":["Articles"]}},"/api/articles/{slug}/favorite":{"post":{"description":"Marks an article as a favorite. Authentication is required.","operationId":"CreateArticleFavorite","parameters":[{"name":"slug","required":true,"in":"path","description":"Unique slug of the article","schema":{"type":"string"}}],"responses":{"200":{"description":"Article favorited","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SingleArticleResponse"}}}}},"security":[{"bearer":[]}],"summary":"Favorite an article","tags":["Articles","Favorites"]},"delete":{"description":"Removes an article from favorites. Authentication is required.","operationId":"DeleteArticleFavorite","parameters":[{"name":"slug","required":true,"in":"path","description":"Unique slug of the article","schema":{"type":"string"}}],"responses":{"200":{"description":"Article unfavorited","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SingleArticleResponse"}}}}},"security":[{"bearer":[]}],"summary":"Unfavorite an article","tags":["Articles","Favorites"]}},"/api/downloads":{"post":{"description":"Creates a new download link for an article. Requires authentication.","operationId":"CreateDownloadLink","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDownloadLinkDTO"}}}},"responses":{"201":{"description":"Download link created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DownloadLinkDTO"}}}},"400":{"description":"Invalid input data"},"403":{"description":"Forbidden: User lacks permission"}},"security":[{"bearer":[]}],"summary":"Create a new download link","tags":["downloads"]},"get":{"description":"Retrieves a paginated list of download links filtered by status.","operationId":"GetDownloadLinks","parameters":[{"name":"status","required":false,"in":"query","schema":{"enum":["PENDING","APPROVED","REJECTED"],"type":"string"}},{"name":"skip","required":false,"in":"query","schema":{"example":0,"type":"number"}},{"name":"take","required":false,"in":"query","schema":{"example":10,"type":"number"}}],"responses":{"200":{"description":"List of download links","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","$ref":"#/components/schemas/DownloadLinkDTO"}},"total":{"type":"number","example":100}}}}}},"400":{"description":"Invalid pagination parameters or status"},"403":{"description":"Forbidden: Only moderators or admins can access"}},"security":[{"bearer":[]}],"summary":"Get all download links by status (moderator/admin only)","tags":["downloads"]}},"/api/downloads/article/{articleId}":{"get":{"description":"Retrieves download links for a specific article. For article owners, shows all links regardless of status. For other users, only shows approved links.","operationId":"GetDownloadLinksByArticleId","parameters":[{"name":"articleId","required":true,"in":"path","description":"ID of the article","schema":{"example":76,"type":"number"}}],"responses":{"200":{"description":"List of download links for the article or informational response","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"links":{"type":"array","items":{"type":"object","$ref":"#/components/schemas/DownloadLinkDTO"}},"articleExists":{"type":"boolean"},"articleStatus":{"type":"string"}}},{"type":"object","properties":{"links":{"type":"array","items":{"type":"object"}},"articleExists":{"type":"boolean"},"articleStatus":{"type":"string"},"message":{"type":"string"}}}]}}}},"404":{"description":"Article not found"}},"security":[{"bearer":[]}],"summary":"Get all download links for an article","tags":["downloads"]}},"/api/downloads/pending":{"get":{"description":"Retrieves a paginated list of download links with PENDING status.","operationId":"GetPendingDownloadLinks","parameters":[{"name":"skip","required":false,"in":"query","schema":{"example":0,"type":"number"}},{"name":"take","required":false,"in":"query","schema":{"example":10,"type":"number"}}],"responses":{"200":{"description":"List of pending download links","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","$ref":"#/components/schemas/DownloadLinkDTO"}},"total":{"type":"number","example":100}}}}}},"400":{"description":"Invalid pagination parameters"},"403":{"description":"Forbidden: Only moderators or admins can access"}},"security":[{"bearer":[]}],"summary":"Get all pending download links with pagination (moderator/admin only)","tags":["downloads"]}},"/api/downloads/{id}/moderate":{"patch":{"description":"Approves or rejects a download link and updates the associated moderation request.","operationId":"ModerateDownloadLink","parameters":[{"name":"id","required":true,"in":"path","description":"ID of the download link to moderate","schema":{"example":123,"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModerateDownloadLinkDTO"},"examples":{"approve":{"summary":"Approve the download link","value":{"status":"APPROVED","note":"Valid download link"}},"reject":{"summary":"Reject the download link","value":{"status":"REJECTED","note":"Invalid URL"}}}}}},"responses":{"200":{"description":"Download link moderated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DownloadLinkDTO"}}}},"400":{"description":"Invalid status or review note"},"403":{"description":"Forbidden: Only moderators or admins can moderate"},"404":{"description":"Download link not found"}},"security":[{"bearer":[]}],"summary":"Moderate a download link (moderator/admin only)","tags":["downloads"]}},"/api/downloads/{id}":{"get":{"description":"Retrieves details of a specific download link. Only accessible by the link owner.","operationId":"GetDownloadLink","parameters":[{"name":"id","required":true,"in":"path","description":"ID of the download link","schema":{"example":123,"type":"number"}}],"responses":{"200":{"description":"Download link details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DownloadLinkDTO"}}}},"403":{"description":"Forbidden: User lacks permission"},"404":{"description":"Download link not found"}},"security":[{"bearer":[]}],"summary":"Get a specific download link by ID","tags":["downloads"]},"patch":{"description":"Updates the details of an existing download link.","operationId":"UpdateDownloadLink","parameters":[{"name":"id","required":true,"in":"path","description":"ID of the download link","schema":{"example":123,"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDownloadLinkDTO"}}}},"responses":{"200":{"description":"Download link updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DownloadLinkDTO"}}}},"400":{"description":"Invalid input data"},"403":{"description":"Forbidden: User lacks permission"},"404":{"description":"Download link not found"}},"security":[{"bearer":[]}],"summary":"Update a download link","tags":["downloads"]},"delete":{"description":"Deletes a download link. Requires appropriate permissions.","operationId":"DeleteDownload L ink","parameters":[{"name":"id","required":true,"in":"path","description":"ID of the download link","schema":{"example":123,"type":"number"}}],"responses":{"204":{"description":"Download link deleted successfully"},"403":{"description":"Forbidden: User lacks permission"},"404":{"description":"Download link not found"}},"security":[{"bearer":[]}],"summary":"Delete a download link","tags":["downloads"]}},"/api/articles/{slug}/comments":{"get":{"operationId":"CommentsController_list","parameters":[{"name":"slug","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"List of comments","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentDTO"}}}}}},"summary":"Get comments for an article","tags":["Comments"]},"post":{"operationId":"CommentsController_create","parameters":[{"name":"slug","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewCommentDTO"}}}},"responses":{"200":{"description":"Created comment","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDTO"}}}}},"security":[{"bearer":[]}],"summary":"Create a new comment","tags":["Comments"]}},"/api/articles/{slug}/comments/{id}":{"delete":{"operationId":"CommentsController_delete","parameters":[{"name":"slug","required":true,"in":"path","schema":{"type":"string"}},{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Deleted comment","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDTO"}}}}},"security":[{"bearer":[]}],"summary":"Delete a comment","tags":["Comments"]}},"/api/subscriptions":{"post":{"operationId":"SubscriptionController_createSubscription","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSubscriptionDto"}}}},"responses":{"201":{"description":"Subscription created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionDto"}}}},"400":{"description":"Bad Request - Invalid input data"}},"security":[{"bearer":[]}],"tags":["subscriptions"]},"get":{"operationId":"SubscriptionController_getUserSubscriptions","parameters":[],"responses":{"200":{"description":"List of user subscriptions","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SubscriptionDto"}}}}}},"security":[{"bearer":[]}],"tags":["subscriptions"]}},"/api/subscriptions/plans":{"get":{"operationId":"SubscriptionController_listPlans","parameters":[{"name":"refresh","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Available subscription plans","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SubscriptionPlanDto"}}}}}},"tags":["subscriptions"]}},"/api/subscriptions/{id}":{"delete":{"operationId":"SubscriptionController_cancelSubscription","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Subscription cancelled successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionDto"}}}},"404":{"description":"Subscription not found"}},"tags":["subscriptions"]}},"/api/wallet/truemoney/redeem":{"post":{"description":"Redeems a TrueMoney angpao code and converts the value into user points.","operationId":"WalletController_redeemTrueMoney","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RedeemTrueMoneyDto"}}}},"responses":{"200":{"description":"Voucher redeemed successfully"}},"security":[{"bearer":[]}],"summary":"Redeem a TrueMoney angpao voucher","tags":["wallet"]}},"/api/official-download-sources":{"post":{"description":"Requires user authentication","operationId":"OfficialDownloadSourceController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOfficialDownloadSourceDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SingleAuthorizedPurchaseLinkResponse"}}}},"404":{"description":"Article not found"}},"security":[{"bearer":[]}],"summary":"Submit a new authorized purchase link","tags":["Authorized Purchase Sources"]}},"/api/official-download-sources/article/{articleId}/approved":{"get":{"operationId":"OfficialDownloadSourceController_findApprovedByArticle","parameters":[{"name":"articleId","required":true,"in":"path","description":"ID of the article","schema":{"example":1,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MultipleAuthorizedPurchaseLinksResponse"}}}}},"summary":"Get approved purchase links for an article","tags":["Authorized Purchase Sources"]}},"/api/categories":{"get":{"description":"Get categories. Auth not required","operationId":"GetCategories","parameters":[],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoriesResponse"}}}}},"summary":"Get categories","tags":["categories"]}},"/api/platforms":{"get":{"description":"Get platforms. Auth not required","operationId":"GetPlatforms","parameters":[],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlatformsResponse"}}}}},"summary":"Get platforms","tags":["Platforms"]}},"/api/tags":{"get":{"description":"Get tags. Auth not required","operationId":"GetTags","parameters":[],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagsResponse"}}}}},"summary":"Get tags","tags":["Tags"]}},"/api/user":{"get":{"description":"Gets the currently logged-in user with their roles","operationId":"GetCurrentUser","parameters":[],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"bearer":[]}],"summary":"Get current user","tags":["User and Authentication"]},"put":{"description":"Updated user information for current user","operationId":"UpdateCurrentUser","parameters":[],"requestBody":{"required":true,"description":"User details to update. At least one field is required.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}}},"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"bearer":[]}],"summary":"Update current user","tags":["User and Authentication"]}},"/api/user/tokens":{"post":{"description":"Creates a permanent token with specified duration and roles","operationId":"CreatePermanentToken","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePermanentTokenDTO"}}}},"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}}},"security":[{"bearer":[]}],"summary":"Create a permanent token","tags":["User and Authentication"]},"get":{"description":"Lists all permanent tokens for the current user","operationId":"ListTokens","parameters":[],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserTokenDTO"}}}}}},"security":[{"bearer":[]}],"summary":"List user tokens","tags":["User and Authentication"]}},"/api/user/tokens/{id}":{"delete":{"description":"Revokes a specific permanent token","operationId":"RevokeToken","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"204":{"description":""}},"security":[{"bearer":[]}],"summary":"Revoke a token","tags":["User and Authentication"]}},"/api/users":{"post":{"description":"Register a new user","operationId":"CreateUser","parameters":[{"name":"user-agent","required":true,"in":"header","schema":{"type":"string"}}],"requestBody":{"required":true,"description":"Details of the new user to register","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewUserRequest"}}}},"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"summary":"Register a new user","tags":["User and Authentication"]}},"/api/users/login":{"post":{"description":"Login for existing user","operationId":"Login","parameters":[{"name":"user-agent","required":true,"in":"header","schema":{"type":"string"}}],"requestBody":{"required":true,"description":"Credentials to use","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginUserRequest"}}}},"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"summary":"Existing user login","tags":["User and Authentication"]}},"/api/users/login-supabase":{"post":{"description":"Exchange Supabase JWT for internal token","operationId":"LoginSupabase","parameters":[{"name":"user-agent","required":true,"in":"header","schema":{"type":"string"}}],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"summary":"Login with Supabase Token","tags":["User and Authentication"]}},"/api/profiles/{username}":{"get":{"description":"Get a profile of a user of the system. Auth is optional","operationId":"GetProfileByUsername","parameters":[{"name":"username","required":true,"in":"path","description":"Username of the profile to get","schema":{"type":"string"}}],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileResponse"}}}}},"summary":"Get a profile","tags":["Profile"]}},"/api/profiles/{username}/follow":{"post":{"description":"Follow a user by username","operationId":"FollowUserByUsername","parameters":[{"name":"username","required":true,"in":"path","description":"Username of the profile you want to follow","schema":{"type":"string"}}],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileResponse"}}}}},"security":[{"bearer":[]}],"summary":"Follow a user","tags":["Profile"]},"delete":{"description":"Unfollow a user by username","operationId":"UnfollowUserByUsername","parameters":[{"name":"username","required":true,"in":"path","description":"Username of the profile you want to unfollow","schema":{"type":"string"}}],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileResponse"}}}}},"security":[{"bearer":[]}],"summary":"Unfollow a user","tags":["Profile"]}},"/api/admin/roles":{"get":{"operationId":"GetRoles","parameters":[],"responses":{"200":{"description":"List of all roles","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RoleResponse"}}}}}},"security":[{"bearer":[]}],"summary":"Get all available roles","tags":["Admin"]}},"/api/admin/users/{userId}/roles":{"get":{"operationId":"GetUserRoles","parameters":[{"name":"userId","required":true,"in":"path","description":"ID of the user","schema":{"type":"number"}}],"responses":{"200":{"description":"User roles","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserRoleResponse"}}}}}},"security":[{"bearer":[]}],"summary":"Get roles for a specific user","tags":["Admin"]},"post":{"operationId":"AddUserRole","parameters":[{"name":"userId","required":true,"in":"path","description":"ID of the user to add role to","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddUserRoleDto"}}}},"responses":{"201":{"description":"Role added successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRoleResponse"}}}}},"security":[{"bearer":[]}],"summary":"Add a role to a user","tags":["Admin"]}},"/api/admin/users/{userId}/roles/{roleId}":{"delete":{"operationId":"RemoveUserRole","parameters":[{"name":"userId","required":true,"in":"path","description":"ID of the user to remove role from","schema":{"type":"number"}},{"name":"roleId","required":true,"in":"path","description":"ID of the role to remove","schema":{"type":"number"}}],"responses":{"204":{"description":"Role removed successfully"}},"security":[{"bearer":[]}],"summary":"Remove a role from a user","tags":["Admin"]}},"/api/admin/articles/{articleId}":{"delete":{"operationId":"DeleteArticle","parameters":[{"name":"articleId","required":true,"in":"path","description":"ID of the article to delete","schema":{"type":"number"}}],"responses":{"204":{"description":"Article deleted successfully"}},"security":[{"bearer":[]}],"summary":"Delete an article and its related data","tags":["Admin"]}},"/api/mods/article/{slug}":{"post":{"description":"Requires user authentication. Any authenticated user can add mods to published articles.","operationId":"ModsController_createMod","parameters":[{"name":"slug","required":true,"in":"path","description":"Slug of the article to add a mod to","schema":{"example":"my-game-guide","type":"string"}}],"requestBody":{"required":true,"description":"Data for creating a mod","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateModDto"},"examples":{"example1":{"summary":"Create a sample mod","value":{"name":"Sample Mod","description":"A sample mod for testing","version":"1.0","downloadLink":"https://example.com/mod.zip","creditTo":"Original creator (optional)","images":["https://example.com/image1.png"],"type":"MOD","categoryIds":[1]}}}}}},"responses":{"201":{"description":"The created mod","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SingleModResponse"}}}}},"security":[{"bearer":[]}],"summary":"Create a new mod for a published article","tags":["Mods"]},"get":{"description":"Authentication is optional. Returns approved mods by default.","operationId":"ModsController_getModsByArticleSlug","parameters":[{"name":"slug","required":true,"in":"path","description":"Slug of the article","schema":{"example":"my-game-guide","type":"string"}},{"name":"status","required":false,"in":"query","description":"Filter by mod status (admin/moderator only)","schema":{"enum":["PENDING","APPROVED","REJECTED"],"type":"string"}}],"responses":{"200":{"description":"List of mods for the article cataly count","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MultipleModsResponse"}}}}},"summary":"Get all mods for a specific article","tags":["Mods"]}},"/api/mods":{"get":{"description":"Authentication is optional. Returns approved mods by default.","operationId":"ModsController_getAllMods","parameters":[{"name":"status","required":false,"in":"query","description":"Filter by mod status (admin/moderator only)","schema":{"enum":["PENDING","APPROVED","REJECTED"],"type":"string"}},{"name":"skip","required":false,"in":"query","description":"Number of items to skip for pagination","schema":{"type":"number"}},{"name":"take","required":false,"in":"query","description":"Number of items to take per page","schema":{"type":"number"}}],"responses":{"200":{"description":"List of mods and total count","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MultipleModsResponse"}}}}},"summary":"Get all mods with filters","tags":["Mods"]}},"/api/mods/{id}":{"patch":{"description":"Requires user authentication. Only the creator or admin/moderator can update.","operationId":"ModsController_updateMod","parameters":[{"name":"id","required":true,"in":"path","description":"ID of the mod to update","schema":{"example":1,"type":"number"}}],"requestBody":{"required":true,"description":"Data for updating a mod","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateModDto"}}}},"responses":{"200":{"description":"The updated mod","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SingleModResponse"}}}}},"security":[{"bearer":[]}],"summary":"Update a mod","tags":["Mods"]},"delete":{"description":"Requires user authentication. Only the creator or admin/moderator can delete.","operationId":"ModsController_deleteMod","parameters":[{"name":"id","required":true,"in":"path","description":"ID of the mod to delete","schema":{"example":1,"type":"number"}}],"responses":{"204":{"description":"Mod deleted successfully"}},"security":[{"bearer":[]}],"summary":"Delete a mod","tags":["Mods"]}},"/api/mods/{id}/status":{"patch":{"description":"Change mod status (PENDING, APPROVED, REJECTED)","operationId":"ModsController_updateModStatus","parameters":[{"name":"id","required":true,"in":"path","description":"ID of the mod to update status","schema":{"example":1,"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["PENDING","APPROVED","REJECTED"],"description":"New status value"}},"required":["status"]}}}},"responses":{"200":{"description":"The mod with updated status","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SingleModResponse"}}}}},"security":[{"bearer":[]}],"summary":"Update mod status (Admin/Moderator only)","tags":["Mods"]}},"/api/mod-categories":{"post":{"operationId":"ModCategoryController_createCategory","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateModCategoryDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModCategoryResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Create a new mod category (Admin/Moderator only)","tags":["Mod Categories"]}},"/api/engines":{"get":{"operationId":"EnginesController_findAll","parameters":[{"name":"status","required":false,"in":"query","schema":{"enum":["PENDING","APPROVED"],"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EngineDto"}}}}}},"tags":["engines"]}},"/api/engines/{id}/approve":{"patch":{"operationId":"EnginesController_approve","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EngineDto"}}}}},"security":[{"bearer":[]}],"tags":["engines"]}},"/api/shortlink":{"post":{"description":"Requires user authentication. Creates a new shortlink for the authenticated user.","operationId":"ShortlinkController_createShortlink","parameters":[],"requestBody":{"required":true,"description":"Data for creating a shortlink","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateShortlinkDto"},"examples":{"example1":{"summary":"Create a basic shortlink","value":{"originalUrl":"https://example.com/very-long-url","customSlug":"my-link","title":"My Example Link","description":"A shortlink to my example page","expiresAt":"2024-12-31T23:59:59Z"}}}}}},"responses":{"201":{"description":"The created shortlink","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SingleShortlinkResponse"}}}}},"security":[{"bearer":[]}],"summary":"Create a new shortlink","tags":["Shortlinks"]},"get":{"description":"Authentication is optional. Returns active shortlinks by default. Authenticated users can see their own shortlinks.","operationId":"ShortlinkController_getAllShortlinks","parameters":[{"name":"userId","required":false,"in":"query","description":"Filter by user ID (admin/moderator only)","schema":{"type":"number"}},{"name":"active","required":false,"in":"query","description":"Filter by active status","schema":{"type":"boolean"}},{"name":"skip","required":false,"in":"query","description":"Number of items to skip for pagination","schema":{"type":"number"}},{"name":"take","required":false,"in":"query","description":"Number of items to take per page","schema":{"type":"number"}}],"responses":{"200":{"description":"List of shortlinks and total count","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MultipleShortlinksResponse"}}}}},"summary":"Get all shortlinks with filters","tags":["Shortlinks"]}},"/api/shortlink/redirect/{slug}":{"get":{"description":"Redirects to the original URL associated with the shortlink slug. Tracks click analytics.","operationId":"ShortlinkController_getRedirect","parameters":[{"name":"slug","required":true,"in":"path","description":"Shortlink slug to redirect","schema":{"example":"my-link","type":"string"}},{"name":"user-agent","required":true,"in":"header","schema":{"type":"string"}},{"name":"User-Agent","in":"header","description":"Client user agent for analytics","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Redirect information","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RedirectResponseDto"}}}}},"summary":"Redirect to original URL","tags":["Shortlinks"]}},"/api/shortlink/stats/global":{"get":{"description":"Requires authentication. Admin/moderator can see global stats, users see their own stats.","operationId":"ShortlinkController_getGlobalStats","parameters":[{"name":"days","required":false,"in":"query","description":"Number of days to include in statistics (default: 30)","schema":{"type":"number"}}],"responses":{"200":{"description":"Click statistics data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatsResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get global click statistics","tags":["Shortlinks"]}},"/api/shortlink/stats/{slug}":{"get":{"description":"Authentication is optional. Only the creator or admin/moderator can see detailed stats.","operationId":"ShortlinkController_getShortlinkStats","parameters":[{"name":"slug","required":true,"in":"path","description":"Shortlink slug","schema":{"example":"my-link","type":"string"}},{"name":"days","required":false,"in":"query","description":"Number of days to include in statistics (default: 30)","schema":{"type":"number"}}],"responses":{"200":{"description":"Shortlink-specific statistics","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatsResponseDto"}}}}},"summary":"Get statistics for a specific shortlink","tags":["Shortlinks"]}},"/api/shortlink/health":{"get":{"description":"Returns service health status","operationId":"ShortlinkController_health","parameters":[],"responses":{"200":{"description":"Service health information","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponseDto"}}}}},"summary":"Health check endpoint","tags":["Shortlinks"]}},"/api/shortlink/{slug}":{"get":{"description":"Authentication is optional. Returns shortlink information without redirecting.","operationId":"ShortlinkController_getShortlink","parameters":[{"name":"slug","required":true,"in":"path","description":"Shortlink slug","schema":{"example":"my-link","type":"string"}}],"responses":{"200":{"description":"The requested shortlink details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SingleShortlinkResponse"}}}}},"summary":"Get shortlink details by slug","tags":["Shortlinks"]}},"/api/shortlink/id/{id}":{"get":{"description":"Authentication is optional. Only the creator or admin/moderator can see private details.","operationId":"ShortlinkController_getShortlinkById","parameters":[{"name":"id","required":true,"in":"path","description":"Shortlink ID","schema":{"example":1,"type":"number"}}],"responses":{"200":{"description":"The requested shortlink details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SingleShortlinkResponse"}}}}},"summary":"Get shortlink details by ID","tags":["Shortlinks"]}}},"info":{"title":"Chanomhub API","description":"You can read all the APIs that Chanomhub can use here.","version":"2.0.0","contact":{"name":"RealWorld","url":"https://chanomhub.online","email":"Developer@chanomhub.root"},"license":{"name":"MIT Licence","url":"https://opensource.org/licenses/MIT"}},"tags":[{"name":"Articles","description":""},{"name":"Comments","description":""},{"name":"Favorites","description":""},{"name":"Profile","description":""},{"name":"Tags","description":""},{"name":"User and Authentication","description":""}],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"NotificationResponse":{"type":"object","properties":{"id":{"type":"number","description":"Unique ID of the notification"},"userId":{"type":"number","description":"ID of the user receiving the notification"},"type":{"type":"string","description":"Type of the notification","enum":["NEW_ARTICLE","NEW_COMMENT","REPLY_COMMENT","PUBLISH_REQUEST_UPDATE","MOD_UPDATE","TRANSLATION_UPDATE","FAVORITE_ARTICLE","MODERATION_UPDATE","TRANSLATION_QUEUE_NEW","TRANSLATION_QUEUE_UPDATE","TRANSLATION_QUEUE_COMPLETED","TRANSLATION_QUEUE_FAILED"]},"message":{"type":"string","description":"Message content of the notification"},"isRead":{"type":"boolean","description":"Whether the notification has been read"},"entityId":{"type":"object","description":"ID of the related entity (e.g., Article, TranslationQueue)"},"entityType":{"type":"object","description":"Type of the related entity (e.g., ARTICLE, TRANSLATION_QUEUE)"},"createdAt":{"format":"date-time","type":"string","description":"Creation date of the notification"},"updatedAt":{"format":"date-time","type":"string","description":"Last update date of the notification"}},"required":["id","userId","type","message","isRead","createdAt","updatedAt"]},"MultipleNotificationsResponse":{"type":"object","properties":{"notifications":{"description":"List of notifications","type":"array","items":{"$ref":"#/components/schemas/NotificationResponse"}},"notificationsCount":{"type":"number","description":"Total number of notifications"},"unreadCount":{"type":"number","description":"Number of unread notifications"}},"required":["notifications","notificationsCount","unreadCount"]},"SingleNotificationResponse":{"type":"object","properties":{"notification":{"description":"Single notification details","allOf":[{"$ref":"#/components/schemas/NotificationResponse"}]}},"required":["notification"]},"RefreshTokenRequestDTO":{"type":"object","properties":{"refreshToken":{"type":"string","description":"Refresh token to use for getting new tokens"}},"required":["refreshToken"]},"TokenPairDTO":{"type":"object","properties":{"accessToken":{"type":"string","description":"Short-lived access token (JWT)"},"refreshToken":{"type":"string","description":"Long-lived refresh token"},"expiresIn":{"type":"number","description":"Access token expiry in seconds"}},"required":["accessToken","refreshToken","expiresIn"]},"CreateModerationRequestDto":{"type":"object","properties":{}},"UpdateModerationRequestDto":{"type":"object","properties":{"status":{"type":"string","enum":["PENDING","APPROVED","REJECTED","NEEDS_REVISION"],"description":"The new status of the moderation request","example":"APPROVED"},"reviewNote":{"type":"string","description":"Optional note from the reviewer explaining the decision","example":"Content has been reviewed and approved."}},"required":["status"]},"Object":{"type":"object","properties":{}},"EngineTypeDTO":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"}},"required":["id","name"]},"ArticleImageDTO":{"type":"object","properties":{"id":{"type":"number"},"url":{"type":"string"}},"required":["id","url"]},"ArticleOfficialDownloadSourceDTO":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"reviewNote":{"type":"object"},"status":{"type":"string"},"url":{"type":"string"}},"required":["id","name","status","url"]},"ArticleDTO":{"type":"object","properties":{"id":{"type":"number"},"title":{"type":"string"},"slug":{"type":"string"},"description":{"type":"string"},"body":{"type":"string"},"language":{"type":"string"},"ver":{"type":"object"},"version":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"status":{"type":"string","enum":["DRAFT","PENDING_REVIEW","PUBLISHED","ARCHIVED","NOT_APPROVED","NEEDS_REVISION"]},"engine":{"$ref":"#/components/schemas/EngineTypeDTO"},"mainImage":{"type":"object"},"images":{"type":"array","items":{"$ref":"#/components/schemas/ArticleImageDTO"}},"officialDownloadSources":{"type":"array","items":{"$ref":"#/components/schemas/ArticleOfficialDownloadSourceDTO"}},"backgroundImage":{"type":"object"},"coverImage":{"type":"object"},"tags":{"type":"array","items":{"type":"string"}},"categories":{"type":"array","items":{"type":"string"}},"platforms":{"type":"array","items":{"type":"string"}},"creator":{"type":"string","nullable":true},"creators":{"type":"array","items":{"type":"string"}},"author":{"type":"object"},"favorited":{"type":"boolean"},"favoritesCount":{"type":"number"},"sequentialCode":{"type":"object"}},"required":["id","title","slug","description","body","language","ver","createdAt","updatedAt","status","mainImage","images","officialDownloadSources","backgroundImage","coverImage","tags","categories","platforms","creator","creators","author","favorited","favoritesCount","sequentialCode"]},"MultipleArticlesResponse":{"type":"object","properties":{"articles":{"type":"array","items":{"$ref":"#/components/schemas/ArticleDTO"}},"articlesCount":{"type":"number"}},"required":["articles","articlesCount"]},"NewArticleDTO":{"type":"object","properties":{"title":{"type":"string"},"slug":{"type":"string"},"description":{"type":"string"},"body":{"type":"string"},"language":{"type":"string","description":"Language code (e.g., \"en\", \"th\")"},"ver":{"type":"string","description":"Game version (user-defined)"},"status":{"type":"string","enum":["DRAFT","PENDING_REVIEW","PUBLISHED","ARCHIVED","NOT_APPROVED","NEEDS_REVISION"]},"engine":{"type":"string"},"mainImage":{"type":"object"},"backgroundImage":{"type":"object"},"coverImage":{"type":"object"},"otherImages":{"type":"array","items":{"type":"string"}},"tags":{"type":"array","items":{"type":"string"}},"categories":{"type":"array","items":{"type":"string"}},"platforms":{"type":"array","items":{"type":"string"}},"creator":{"type":"string","description":"Primary game creator or studio","nullable":true}},"required":["title","description","body"]},"SingleArticleResponse":{"type":"object","properties":{"article":{"$ref":"#/components/schemas/ArticleDTO"}},"required":["article"]},"UpdateArticleDTO":{"type":"object","properties":{"title":{"type":"string"},"slug":{"type":"string"},"description":{"type":"string"},"body":{"type":"string"},"ver":{"type":"string","description":"Game version (user-defined)"},"status":{"type":"string","enum":["DRAFT","PENDING_REVIEW","PUBLISHED","ARCHIVED","NOT_APPROVED","NEEDS_REVISION"]},"engine":{"type":"string"},"mainImage":{"type":"object"},"backgroundImage":{"type":"object"},"coverImage":{"type":"object"},"otherImages":{"type":"array","items":{"type":"string"}},"tags":{"type":"array","items":{"type":"string"}},"categories":{"type":"array","items":{"type":"string"}},"platforms":{"type":"array","items":{"type":"string"}},"creator":{"type":"string","description":"Primary game creator or studio","nullable":true}}},"UpdateArticleRequest":{"type":"object","properties":{"article":{"$ref":"#/components/schemas/UpdateArticleDTO"}},"required":["article"]},"CreateDownloadLinkDTO":{"type":"object","properties":{"articleId":{"type":"number","description":"ID of the article this download link belongs to","example":123},"name":{"type":"string","description":"Name or description of the download link","example":"Source Code ZIP File"},"url":{"type":"string","description":"URL of the download resource","example":"https://example.com/downloads/resource.zip"},"isActive":{"type":"boolean","description":"Whether the download link is active","example":true},"note":{"type":"string","description":"Note for moderation request","example":"This is a source code repository for the article."},"vipOnly":{"type":"boolean","description":"Marks the download link as VIP-only","example":false}},"required":["articleId","name","url"]},"DownloadLinkDTO":{"type":"object","properties":{"id":{"type":"number","description":"Unique identifier of the download link","example":123},"articleId":{"type":"number","description":"ID of the article this download link belongs to","example":456},"name":{"type":"string","description":"Name or description of the download link","example":"Source Code ZIP File"},"url":{"type":"string","description":"URL of the download resource","example":"https://example.com/downloads/resource.zip"},"isActive":{"type":"boolean","description":"Whether the download link is active","example":true},"status":{"type":"string","description":"Current status of the download link","enum":["PENDING","APPROVED","REJECTED"],"example":"APPROVED"},"createdAt":{"format":"date-time","type":"string","description":"Date when the download link was created","example":"2023-01-01T00:00:00Z"},"updatedAt":{"format":"date-time","type":"string","description":"Date when the download link was last updated","example":"2023-01-15T00:00:00Z"},"vipOnly":{"type":"boolean","description":"Indicates whether the download link is VIP-only","example":false},"note":{"type":"string","description":"Note for moderation request","example":"This is a note for moderation."}},"required":["id","articleId","name","url","isActive","status","createdAt","updatedAt","vipOnly"]},"SourceStatus":{"type":"string","enum":["PENDING","APPROVED","REJECTED"],"description":"The status to set for the download link"},"ModerateDownloadLinkDTO":{"type":"object","properties":{"status":{"description":"The status to set for the download link","example":"APPROVED","allOf":[{"$ref":"#/components/schemas/SourceStatus"}]},"note":{"type":"string","description":"Optional note about the moderation decision","example":"Download link approved - URL is valid","maxLength":500}},"required":["status"]},"UpdateDownloadLinkDTO":{"type":"object","properties":{"name":{"type":"string","description":"Name or description of the download link","example":"Updated Source Code ZIP File"},"url":{"type":"string","description":"URL of the download resource","example":"https://example.com/downloads/updated-resource.zip"},"isActive":{"type":"boolean","description":"Whether the download link is active","example":true},"note":{"type":"string","description":"Note for moderation request","example":"This is a note for moderation after update."},"vipOnly":{"type":"boolean","description":"Marks the download link as VIP-only","example":false}}},"CommentDTO":{"type":"object","properties":{"id":{"type":"number","description":"Unique ID of the comment"},"body":{"type":"string","description":"Content of the comment"},"createdAt":{"format":"date-time","type":"string","description":"Creation date of the comment"},"updatedAt":{"format":"date-time","type":"string","description":"Last update date of the comment"},"author":{"type":"object","description":"Author of the comment"}},"required":["id","body","createdAt","updatedAt","author"]},"NewCommentDTO":{"type":"object","properties":{"body":{"type":"string","description":"Content of the comment"}},"required":["body"]},"CreateSubscriptionDto":{"type":"object","properties":{"planId":{"type":"string"}},"required":["planId"]},"SubscriptionDto":{"type":"object","properties":{"id":{"type":"number"},"userId":{"type":"number"},"planId":{"type":"string"},"status":{"type":"string","enum":["ACTIVE","CANCELED","SUSPENDED","PAST_DUE","UNPAID"]},"currentPeriodStart":{"format":"date-time","type":"string"},"currentPeriodEnd":{"format":"date-time","type":"string"},"cancelAtPeriodEnd":{"type":"boolean"},"startDate":{"format":"date-time","type":"string"},"endDate":{"type":"object","nullable":true},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","userId","planId","status","currentPeriodStart","currentPeriodEnd","cancelAtPeriodEnd","startDate","createdAt","updatedAt"]},"SubscriptionPlanDto":{"type":"object","properties":{"planId":{"type":"string"},"name":{"type":"string"},"description":{"type":"object","nullable":true},"pointsCost":{"type":"number"},"durationDays":{"type":"number"}},"required":["planId","name","pointsCost","durationDays"]},"RedeemTrueMoneyDto":{"type":"object","properties":{"voucherCode":{"type":"string","example":"ABC123DEF456","description":"TrueMoney Angpao voucher code (characters after v= in the gift link)"}},"required":["voucherCode"]},"CreateOfficialDownloadSourceDto":{"type":"object","properties":{"articleId":{"type":"number","description":"ID of the article this purchase link belongs to","example":123},"name":{"type":"string","description":"Name of the purchase source","example":"Official Storefront","maxLength":100},"url":{"type":"string","description":"URL of the purchase source","example":"https://example.com/purchase"},"submitNote":{"type":"string","description":"Optional note from the submitter","example":"This is the official source from the publisher","maxLength":500}},"required":["articleId","name","url"]},"SingleAuthorizedPurchaseLinkResponse":{"type":"object","properties":{}},"MultipleAuthorizedPurchaseLinksResponse":{"type":"object","properties":{}},"CategoriesResponse":{"type":"object","properties":{"categories":{"type":"array","items":{"type":"string"}}},"required":["categories"]},"PlatformsResponse":{"type":"object","properties":{"platforms":{"type":"array","items":{"type":"string"}}},"required":["platforms"]},"TagsResponse":{"type":"object","properties":{"tags":{"type":"array","items":{"type":"string"}}},"required":["tags"]},"SocialMediaLinkDTO":{"type":"object","properties":{"platform":{"type":"string"},"url":{"type":"string"}},"required":["platform","url"]},"UserDTO":{"type":"object","properties":{"roles":{"type":"array","items":{"type":"string"}},"email":{"type":"string"},"username":{"type":"string"},"bio":{"type":"string"},"image":{"type":"string"},"backgroundImage":{"type":"string"},"points":{"type":"number"},"shrtflyApiKey":{"type":"string"},"token":{"type":"string"},"socialMediaLinks":{"type":"array","items":{"$ref":"#/components/schemas/SocialMediaLinkDTO"}}},"required":["roles","email","username","bio","image","backgroundImage","points","shrtflyApiKey","token","socialMediaLinks"]},"UserResponse":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/UserDTO"},"refreshToken":{"type":"string","description":"Refresh token for obtaining new access tokens"},"expiresIn":{"type":"number","description":"Access token expiry in seconds"}},"required":["user"]},"UpdateUserDTO":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"},"bio":{"type":"string"},"image":{"type":"string"},"backgroundImage":{"type":"string"},"shrtflyApiKey":{"type":"string"},"socialMediaLinks":{"type":"array","items":{"$ref":"#/components/schemas/SocialMediaLinkDTO"}}}},"UpdateUserRequest":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/UpdateUserDTO"}},"required":["user"]},"CreatePermanentTokenDTO":{"type":"object","properties":{"duration":{"type":"string","enum":["1d","1w","1m","forever"]},"roles":{"type":"array","items":{"type":"string"}}},"required":["duration","roles"]},"TokenResponse":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]},"UserTokenDTO":{"type":"object","properties":{"id":{"type":"number"},"token":{"type":"string"},"roles":{"type":"array","items":{"type":"string"}},"expiresAt":{"type":"object"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","token","roles","expiresAt","createdAt","updatedAt"]},"NewUserDTO":{"type":"object","properties":{"email":{"type":"string"},"username":{"type":"string"},"password":{"type":"string"}},"required":["email","username","password"]},"NewUserRequest":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/NewUserDTO"}},"required":["user"]},"LoginUserDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"LoginUserRequest":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/LoginUserDTO"}},"required":["user"]},"ProfileDTO":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"bio":{"type":"object"},"image":{"type":"object"},"backgroundImage":{"type":"object"},"following":{"type":"boolean"},"socialMediaLinks":{"type":"array","items":{"$ref":"#/components/schemas/SocialMediaLinkDTO"}}},"required":["id","name","bio","image","backgroundImage","following","socialMediaLinks"]},"ProfileResponse":{"type":"object","properties":{"profile":{"$ref":"#/components/schemas/ProfileDTO"}},"required":["profile"]},"RoleResponse":{"type":"object","properties":{}},"UserRoleResponse":{"type":"object","properties":{}},"AddUserRoleDto":{"type":"object","properties":{}},"CreateModDto":{"type":"object","properties":{}},"SingleModResponse":{"type":"object","properties":{}},"MultipleModsResponse":{"type":"object","properties":{}},"UpdateModDto":{"type":"object","properties":{}},"CreateModCategoryDto":{"type":"object","properties":{}},"ModCategoryResponseDto":{"type":"object","properties":{}},"EngineDto":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"status":{"type":"string","enum":["PENDING","APPROVED"]},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","name","status","createdAt","updatedAt"]},"CreateShortlinkDto":{"type":"object","properties":{"originalUrl":{"type":"string","description":"The original URL to shorten","example":"https://example.com/very-long-url"},"customSlug":{"type":"string","description":"Custom slug for the shortlink (optional)","example":"my-link"},"title":{"type":"string","description":"Title for the shortlink (optional)","example":"My Example Link"},"description":{"type":"string","description":"Description for the shortlink (optional)","example":"A shortlink to my example page"},"expiresAt":{"type":"string","description":"Expiration date for the shortlink (optional, ISO 8601 format)","example":"2024-12-31T23:59:59Z"}},"required":["originalUrl"]},"SingleShortlinkResponse":{"type":"object","properties":{}},"MultipleShortlinksResponse":{"type":"object","properties":{}},"RedirectResponseDto":{"type":"object","properties":{}},"StatsResponseDto":{"type":"object","properties":{}},"HealthResponseDto":{"type":"object","properties":{}}}}}